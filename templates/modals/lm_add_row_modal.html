<!-- templates/modals/lm_add_row_modal.html -->
<div class="modal fade" id="addRowModal" tabindex="-1" aria-labelledby="addRowModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form action="{{ url_for('add_row_lm') }}" method="POST">
                
                <!-- Token CSRF para seguridad -->
                <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
                
                <div class="modal-header">
                    <h5 class="modal-title" id="addRowModalLabel">Añadir Nueva Orden de Trabajo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                
                <div class="modal-body">
                    <div class="form-group">
                        <label for="wip_order" class="font-weight-bold">WIP Order</label>
                        <input type="text" class="form-control" id="wip_order" name="wip_order" placeholder="Ej: 123456-1" required>
                        <small class="form-text text-muted">Este campo es único y obligatorio.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="item" class="font-weight-bold">Item</label>
                        <input type="text" class="form-control" id="item" name="item" placeholder="Ej: MOTOR-XYZ">
                    </div>
                    
                    <div class="form-group">
                        <label for="qty" class="font-weight-bold">QTY (Cantidad)</label>
                        <input type="number" class="form-control" id="qty" name="qty" value="1" min="1" required>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save mr-1"></i> Guardar Orden</button>
                </div>
            </form>
        </div>
    </div>
</div>